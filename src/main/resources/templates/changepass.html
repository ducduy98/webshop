<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <!-- Page Title -->
    <title>Đổi mật khẩu</title>
    <!--Fevicon-->

    <link rel="icon" th:href="@{/assets/img/icon/favicon.ico}" type="image/x-icon"/>
    <!-- Bootstrap css -->
    <link rel="stylesheet" th:href="@{/assets/css/bootstrap.min.css}">
    <!-- linear-icon -->
    <link rel="stylesheet" th:href="@{/assets/css/font-awesome.min.css}">
    <link rel="stylesheet" th:href="@{/assets/css/linear-icon.css}">
    <!-- all css plugins css -->
    <link rel="stylesheet" th:href="@{/assets/css/plugins.css}">
    <!-- default style -->
    <link rel="stylesheet" th:href="@{/assets/css/default.css}">
    <!-- Main Style css -->
    <link rel="stylesheet" th:href="@{/assets/css/style.css}">
    <!-- responsive css -->
    <link rel="stylesheet" th:href="@{/assets/css/responsive.css}">

    <script th:src="@{/assets/js/vendor/modernizr-3.5.0.min.js}"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

    <!-- Modernizer JS -->
    <script th:src="@{/assets/js/vendor/modernizr-3.5.0.min.js}"></script>


    <!--    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
<!--    <script src='https://kit.fontawesome.com/a076d05399.js'></script>-->
    <script th:src="@{/assets/js/offline/fontawesome.js}"></script>

    <!--    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.7.9/angular.min.js"></script>-->
    <script th:src="@{/assets/js/offline/angular.min.js}"></script>
    <script th:src="@{/assets/js/offline/jquery.min.js}"></script>
    <!--    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>-->

    <style>
        body {
            font-family: "Lato", sans-serif;
        }

        .sidenav {
            height: 100%;
            width: 0;
            position: fixed;
            z-index: 1;
            top: 0;
            left: 0;
            background-color: #111;
            overflow-x: hidden;
            transition: 0.5s;
            padding-top: 60px;
        }

        .sidenav a {
            padding: 8px 8px 8px 32px;
            text-decoration: none;
            font-size: 25px;
            color: #818181;
            display: block;
            transition: 0.3s;
        }

        .sidenav a:hover {
            color: #f1f1f1;
        }

        .sidenav .closebtn {
            position: absolute;
            top: 0;
            right: 25px;
            font-size: 36px;
            margin-left: 50px;
        }

        #main {
            transition: margin-left .5s;
            padding: 16px;
        }

        tbody > tr > td {
            padding: 9px;
            height: 30px;
        }

        @media screen and (max-height: 450px) {
            .sidenav {
                padding-top: 15px;
            }

            .sidenav a {
                font-size: 18px;
            }
        }
    </style>
    <script th:src="@{/assets/js/plugins.js}"></script>
    <script th:src="@{/assets/js/main.js}"></script>


</head>
<body ng-app="MyApp" ng-controller="productController" ng-init="getAll()">
<!--<div id="mySidenav" class="sidenav" ng-app>-->
<!--    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>-->
<!--    <a th:href="@{/homeAdmin}">Quản lý sản phẩm</a>-->
<!--    <a th:href="@{/nhaphang}">Tạo phiếu nhập</a>-->
<!--    <a th:href="@{/quanlidonhang}">Quản lí đơn hàng</a>-->
<!--    <a th:href="@{/quanlidanhmuc}">Quản lí danh mục</a>-->
<!--    <a th:href="@{/code}">Quản lí mã giảm giá</a>-->
<!--    <a th:href="@{/quanlitaikhoan}">Quản lí tài khoản nhân viên</a>-->
<!--    &lt;!&ndash;    <a th:href="@{/quanlidonhang}">Quản lí sale</a>&ndash;&gt;-->
<!--    <a th:href="@{/total}">Thống kê</a>-->
<!--    <a th:href="@{/logout}">Log out</a>-->
<!--</div>-->
<header class="header-pos">
    <div th:replace="header::header"></div>
    <div class="header-middle home-header2 theme-bg">
        <div class="container-fluid">
            <div class="row align-items-center">
                <div class="col-lg-3 col-md-4 col-sm-4 col-12">
                    <div class="logo">
                        <a th:href="@{/trangchu}"><img src="assets/img/logo/logo.png" alt="brand-logo"></a>
                    </div>
                </div>
                <div class="col-lg-5 col-md-12 col-12 order-sm-last">
                    <div class="header-middle-inner">
                        <form th:action="@{/timkiem}" method="get">
                            <input type="text" name="tukhoa" class="top-cat-field" placeholder="Tìm kiếm...">
                            <input type="submit" class="top-search-btn" value="Search">
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="header-top-menu menu-style2 mb-40 sticker">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12">
                    <div class="top-main-menu">
                        <div class="main-menu">
                            <nav id="mobile-menu">
                                <ul>
                                    <li><a th:href="@{/trangchu}">Trang chủ<span
                                            class="lnr lnr-chevron-down"></span></a>

                                    </li>
                                    <li><a th:href="@{/about}">Thông tin<span class="lnr lnr-chevron-down"></span></a>

                                    </li>
                                    <li class="static"><a href="#">Page FaceBook<span
                                            class="lnr lnr-chevron-down"></span></a>

                                    </li>


                                </ul>
                            </nav>
                        </div> <!-- </div> end main menu -->

                    </div>
                </div>
                <div class="col-12 d-block d-lg-none">
                    <div class="mobile-menu"></div>
                </div>
            </div>
        </div>
    </div>
</header>

<div id="main">

    <!--    <div class="row" style="height: 50px;">-->
    <!--        <span style="font-size:30px;cursor:pointer" onclick="openNav()">&#9776; Dashboard</span>-->
    <!--    </div>-->
    <div class="row">

        <div class="container p-6">

            <!-- change password -->

            <h2>Đổi mật khẩu....</h2>
            <form>
                <div class="form-group">
                    <label for="email">Tài khoản:</label>
                    <input type="text" class="form-control" ng-model="taikhoan" id="email" placeholder="Username...">
                </div>
                <div class="form-group">
                    <label>Mật khẩu :</label>
                    <input type="password" class="form-control" placeholder="Password..." ng-model="pass">
                </div>

                <button type="button" class="btn btn-info" ng-click="check()">Kiểm tra tài khoản</button>
            </form>

            <br>
            <form action="/apinhanvien/update" method="POST">
                <div ng-if="2==status">
                    <div class="form-group">
                        <label>Mật khẩu mới :</label>
                        <input type="password" id="pass1" name="pass" class="form-control" placeholder="Password..."
                               ng-model="password1">
                    </div>

                    <div class="form-group">
                        <label>Nhập lại mật khẩu mới :</label>
                        <input type="password" id="pass2" class="form-control" placeholder="Re-Pass..."
                               ng-model="repassword1">
                    </div>
                    <input type="hidden" name="id" value="{{taikhoan}}">

                    <button type="submit" class="btn btn-info">Đổi mật khẩu</button>
                </div>
            </form>

        </div>

    </div>
    <div class="row col-lg-6 offset-lg-6">
        <form th:action="@{/trangchu}">
            <input class="btn-warning btn-lg justify-content-center" type="submit" value="Trở về trang chủ"/>
        </form>
    </div>

</div>
<!-- scroll to top -->
<div class="scroll-top not-visible">
    <i class="fa fa-angle-up"></i>
</div> <!-- /End Scroll to Top -->

<!-- footer area start -->
<footer>
    <!-- news-letter area start -->
    <div class="newsletter-group">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-12">
                    <div class="newsletter-box">
                        <div class="newsletter-inner">
                            <div class="newsletter-title">
                                <h3>Đăng ký để nhận thông tin mới nhất</h3>
                                <p>Hãy là người đầu tiên biết. Đăng ký nhận bản tin ngày hôm nay</p>
                            </div>
                            <div class="newsletter-box">
                                <form id="mc-form">
                                    <input type="email" id="mc-email" autocomplete="off" class="email-box"
                                           placeholder="email">
                                    <button class="newsletter-btn" type="submit" id="mc-submit">subscribe !</button>
                                </form>
                            </div>
                        </div>
                        <div class="link-follow">
                            <a href="https://www.facebook.com/"><i class="fa fa-facebook"></i></a>
                            <a href="https://plus.google.com/discover"><i class="fa fa-google-plus"></i></a>
                            <a href="https://twitter.com/"><i class="fa fa-twitter"></i></a>
                            <a href="https://www.youtube.com/"><i class="fa fa-youtube"></i></a>
                        </div>
                    </div>
                    <!-- mailchimp-alerts Start -->
                    <div class="mailchimp-alerts">
                        <div class="mailchimp-submitting"></div><!-- mailchimp-submitting end -->
                        <div class="mailchimp-success"></div><!-- mailchimp-success end -->
                        <div class="mailchimp-error"></div><!-- mailchimp-error end -->
                    </div><!-- mailchimp-alerts end -->
                </div>
            </div>
        </div>
    </div>
    <!-- news-letter area end -->
    <!-- footer top area start -->
    <div class="footer-top pt-50 pb-50">
        <div class="container-fluid">
            <div class="row">
                <div class="col-lg-4 col-md-6 col-sm-6">
                    <div class="footer-single-widget">
                        <div class="widget-title">
                            <div class="footer-logo mb-30">
                                <a th:href="@{/trangchu}">
                                    <img src="assets/img/logo/logo.png" alt="">
                                </a>
                            </div>
                        </div>
                        <div class="widget-body">
                            <p>Classic Fashion Shop.</p>
                            <div class="payment-method">
                                <h4>payment</h4>
                                <img src="assets/img/payment/payment.png" alt="">
                            </div>
                        </div>
                    </div>
                </div> <!-- single widget end -->
                <div class="col-lg-2 col-md-6 col-sm-6">
                    <div class="footer-single-widget">
                        <div class="widget-title">
                            <h4>Information</h4>
                        </div>
                        <div class="widget-body">
                            <div class="footer-useful-link">
                                <ul>
                                    <li><a href="about.html">about us</a></li>
                                    <li><a href="#">Delivery Information</a></li>
                                    <li><a href="#">Privacy Policy</a></li>
                                    <li><a href="#">Terms & Conditions</a></li>
                                    <li><a href="#">Contact Us</a></li>
                                    <li><a href="#">Returns</a></li>
                                    <li><a href="#">Site Map</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div> <!-- single widget end -->
                <div class="col-lg-3 col-md-6 col-sm-6">
                    <div class="footer-single-widget">
                        <div class="widget-title">
                            <h4>contact us</h4>
                        </div>
                        <div class="widget-body">
                            <div class="footer-useful-link">
                                <ul>
                                    <li><span>Address:</span>Khoa CNTT- DHCNHN</li>
                                    <li><span>email:</span> nguyenducduy131098@gmail.com</li>
                                    <li><span>Call us:</span> <strong>0355636650</strong></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div> <!-- single widget end -->
                <div class="col-lg-3 col-md-6 col-sm-6">
                    <div class="footer-single-widget">
                        <div class="widget-title">
                            <h4>Our FaceBook</h4>
                        </div>
                        <div class="widget-body">
                            <div class="twitter-article">
                                <div class="twitter-text">
                                    Classic Fashion Shop<a href="#">@ClassicFashionShop</a><br>
                                    <a href="#">https://facebook.com</a>
                                    <span class="tweet-time"><i class="fa fa-twitter"></i><a href="#">30 sep</a></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div> <!-- single widget end -->
            </div>
        </div>
    </div>
    <!-- footer top area end -->
    <!-- footer bottom area start -->
    <div class="footer-bottom">
        <div class="container-fluid">
            <div class="row">
                <div class="col-12">
                    <div class="footer-bottom-content">
                        <div class="footer-copyright">
                            <p>Copyright © 2020 <a href="#">Classic Fashion Shop </a>. All Right Reserved</p>
                        </div>
                        <div class="footer-custom-link">
                            <a href="#">Brands</a>
                            <a href="#">Specials</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- footer bottom area end -->
</footer>
<!-- footer area end -->

<!-- find scrip angular-->
<script>
    function openNav() {
        document.getElementById("mySidenav").style.width = "250px";
        document.getElementById("main").style.marginLeft = "250px";
    }

    function closeNav() {
        document.getElementById("mySidenav").style.width = "0";
        document.getElementById("main").style.marginLeft = "0";
    }

    var app = angular.module('MyApp', []);

    app.controller('productController', function ($scope, $http) {
        $scope.macode = null;
        $scope.status = 1;
        $scope.check = function () {
            $http({
                method: "POST",
                url: "/apinhanvien",
                data: {
                    id: $scope.taikhoan,
                    pass: $scope.pass,
                }
            }).then(function (successCallback) {
                if ("Success" == successCallback.data.message) {
                    $scope.status = 2;
                } else {
                    $scope.status = 1;
                    swal({
                        icon: "error",
                        title: successCallback.data.message,
                    })
                }
            })

        }

        $scope.update = function () {
            var pass1 = $("#pass1").val();
            var pass2 = $("#pass2").val();
            if (pass1 == pass2) {

                $http({
                    method: "PUT",
                    url: "/apinhanvien",
                    data: {
                        id: $scope.taikhoan,
                        pass: pass1,
                    }
                }).then(function (result) {

                    swal({
                        title: "Cập nhật thành công",
                        icon: "success",
                    });
                    // update thanh cong, -> logout


                }, function (errorCallback) {
                    swal({
                        title: "Cập nhật thất bại",
                        icon: "error",
                    })
                })
            }
        }
    });
</script>

<script th:src="@{/assets/js/vendor/jquery-1.12.4.min.js}"></script>
<script th:src="@{/assets/js/popper.min.js}"></script>
<script th:src="@{/assets/js/bootstrap.min.js}"></script>
<script th:src="@{/assets/js/plugins.js}"></script>
<script th:src="@{/assets/js/ajax-mail.js}"></script>
<script th:src="@{/assets/js/main.js}"></script>

</body>
</html>